{
  "nodes": [
    { "id": "cfg1", "type": "getconfigurationnode", "inputs": { "section": "openaiconversation", "key": "apikey" } },
    { "id": "ai", "type": "simpleopenainode", "inputs": { "model": "gpt-3.5-turbo" } },
    { "id": "debug", "type": "staticmessagenode" },
    { "id": "j2a", "type": "jsontoarraynode" },

    { "id": "try-message", "type": "tryarraygetnode", "inputs": { "path": "message" } },
    { "id": "msg", "type": "staticmessagenode" },

    { "id": "try-log", "type": "tryarraygetnode", "inputs": { "path": "log" } },
    { "id": "log", "type": "loggernode", "inputs": { "scope": "chatbot" } },

    { "id": "try-telegram", "type": "tryarraygetnode", "inputs": { "path": "telegram" } },
    { "id": "cfg-tg1", "type": "getconfigurationnode", "inputs": { "section": "telegram", "key": "bottoken" } },
    { "id": "cfg-tg2", "type": "getconfigurationnode", "inputs": { "section": "telegram", "key": "me" } },
    { "id": "telegram", "type": "telegramsendmessage" },
   
    { "id": "try-factcheck", "type": "tryarraygetnode", "inputs": { "path": "factcheck" } },
    { "id": "claim", "type": "staticmessagenode" },
    { "id": "factchecker", "type": "simpleopenainode", "inputs": { "model": "gpt-3.5-turbo", "temperature": 0.3 } },

    { "id": "try-joke", "type": "tryarraygetnode", "inputs": { "path": "joke" } },
    { "id": "http-joke", "type": "httpgetnode", "inputs": { "url": "https://api.chucknorris.io/jokes/random" } },
    { "id": "j2a-joke", "type": "jsontoarraynode" },
    { "id": "get-joke", "type": "arraygetnode", "inputs": { "path": "value" } },
    { "id": "cfg2", "type": "getconfigurationnode", "inputs": { "section": "deepltranslation", "key": "apikey" } },
    { "id": "trans", "type": "deepltranslatenode", "inputs": { "source": "EN", "target": "DE" } },

    { "id": "try-weather", "type": "tryarraygetnode", "inputs": { "path": "weather" } },
    { "id": "http-weather", "type": "httpgetnode", "inputs": { "url": "https://api.open-meteo.com/v1/forecast?latitude=52.52&longitude=13.41&current=temperature_2m,weathercode" } },
    { "id": "ai-weather", "type": "simpleopenainode", "inputs": { "model": "gpt-3.5-turbo", "temperature": 0.5 } }
  ],
  "connections": [
    { "from": "cfg1", "output": "value", "to": "ai", "input": "apikey" },
    { "from": "__input__", "output": "system", "to": "ai", "input": "system" },
    { "from": "__input__", "output": "prompt", "to": "ai", "input": "prompt" },
    { "from": "ai", "output": "response", "to": "debug", "input": "text" },
    { "from": "ai", "output": "response", "to": "j2a", "input": "json" },

    { "from": "j2a", "output": "array", "to": "try-message", "input": "array" },
    { "from": "try-message", "output": "value", "to": "msg", "input": "text" },

    { "from": "j2a", "output": "array", "to": "try-log", "input": "array" },
    { "from": "try-log", "output": "value", "to": "log", "input": "message" },

    { "from": "j2a", "output": "array", "to": "try-telegram", "input": "array" },
    { "from": "cfg-tg1", "output": "value", "to": "telegram", "input": "bot_token" },
    { "from": "cfg-tg2", "output": "value", "to": "telegram", "input": "chat_id" },
    { "from": "try-telegram", "output": "value", "to": "telegram", "input": "message" },

    { "from": "j2a", "output": "array", "to": "try-factcheck", "input": "array" },
    { "from": "cfg1", "output": "value", "to": "factchecker", "input": "apikey" },
    { "from": "__input__", "output": "system-factcheck", "to": "factchecker", "input": "system" },
    { "from": "try-factcheck", "output": "value", "to": "factchecker", "input": "prompt" },
    { "from": "try-factcheck", "output": "value", "to": "claim", "input": "text" },

    { "from": "j2a", "output": "array", "to": "try-joke", "input": "array" },
    { "from": "try-joke", "output": "value", "to": "http-joke", "input": "active" },
    { "from": "cfg2", "output": "value", "to": "trans", "input": "apikey" },
    { "from": "http-joke", "output": "body", "to": "j2a-joke", "input": "json" },
    { "from": "j2a-joke", "output": "array", "to": "get-joke", "input": "array" },
    { "from": "get-joke", "output": "value", "to": "trans", "input": "text" },

    { "from": "j2a", "output": "array", "to": "try-weather", "input": "array" },
    { "from": "try-weather", "output": "value", "to": "http-weather", "input": "active" },
    { "from": "cfg1", "output": "value", "to": "ai-weather", "input": "apikey" },
    { "from": "__input__", "output": "system-weather", "to": "ai-weather", "input": "system" },
    { "from": "http-weather", "output": "body", "to": "ai-weather", "input": "prompt" }
  ]
}

